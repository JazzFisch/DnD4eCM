<!DOCTYPE html>
<html lang="en">
    <head>
        <title data-bind="text: Monster().Name"></title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="D&amp;D 4E Stat Block display" />
        <meta name="author" content="Jason Fischer" />
    </head>
    <body>
        <div class="ggdark">
            <div class="mbheadleft">
                <span data-bind="text: Monster().Name"></span>
            </div>
            <div class="mbheadright">
                <span data-bind="text: LevelString()"></span>
            </div>
        </div>
        <div class="ggdark">
            <div class="mbsubleft"><span data-bind="text: TraitsString()"></span></div>
            <div class="mbsubright">XP&nbsp;<span data-bind="text: 'XP ' + addCommas(Monster().Experience)"></span></div>
        </div>
        <table>
            <tr>
                <td class="indlt">
                    <strong>HP&nbsp;</strong><span data-bind="text: addCommas(Monster().HitPoints)"></span>;&nbsp;<strong>Bloodied</strong>&nbsp;<span data-bind="    text: addCommas(Bloodied())"></span><br/>
                    <strong>AC&nbsp;</strong>30, <strong>Fortitude</strong> 29, <strong>Reflex</strong> 30, <strong>Will</strong> 30<br/>
                    <strong>Speed</strong> 0, Fly 6 (hover)<br/>

                    <strong>Saving Throws</strong><span data-bind="text: Monster().SavingThrows"></span>;&nbsp;<strong>Action Points</strong>&nbsp;<span data-bind="    text: Monster().ActionPoints"></span>
                </td>
                <td class="indlt" align="right">
                    <strong>Initiative</strong>&nbsp;<span data-bind="text: addSign(Monster().Initiative)"></span><br/>
                    <strong>Perception</strong>&nbsp;+17<br/>
                    <strong>Insight </strong> 0<br/>Darkvision
                </td>
            </tr>
        </table>
        <div class="ggtype">
            <div class="mbsubleft">
                <strong>Traits</strong>
            </div>
        </div>
        <div class="ggmed">
            <strong>All-Around Vision</strong>
        </div>
        <div class="gglt">
            <div class="ggindent">Enemies can't gain combat advantage by flanking the ghost beholder.</div>
        </div>

        <div class="ggtype">
            <div class="mbsubleft">
                <strong>Standard Actions</strong>
            </div>
        </div>
        <div class="ggmed">
            <font face="4etools symbols">m</font>
            <strong>Bite</strong>
            <strong>&bull; At-Will</strong>
        </div>
        <div class="gglt">
            <div class="ggindent">
                Attack: Melee 1 (one creature); +21 vs. Reflex<br/>
                Hit: 3d8 + 13 necrotic damage.<br/>
            </div>
        </div>

        <div class="ggmed">
            <font face="4etools symbols">R</font>
            <strong>Eye Ray</strong>
            <strong>&bull; At-Will</strong>
        </div>
        <div class="gglt">
            <div class="ggindent">
                Effect: The beholder uses one of the following eye rays without provoking an opportunity attack.<br/>
                Attack: Ranged 10 (one creature); +21 vs. Fortitude<br/>
                Hit: 4d8 + 8 cold and necrotic damage, and the target is slowed (save ends).<br/>
                First Failed Saving Throw:  The target is immobilized instead of slowed (save ends).<br/>
                Attack: Ranged 10 (one creature); +21 vs. Will<br/>
                Hit: Ongoing 15 psychic damage (save ends).<br/>
                First Failed Saving Throw:  In addition to the ongoing damage, the target is dazed (save ends both).<br/>
                Second Failed Saving Throw:  The target is dominated instead of dazed and continues to take the ongoing damage (save ends both). The beholder is removed from play until the effect ends. When the effect ends, the beholder reappears in an unoccupied space within 10 squares of the target. The beholder can end the effect as a free action.<br/>
                Attack: Ranged 10 (one creature); +21 vs. Will<br/>
                Hit: 1d8 + 9 psychic damage, and the target makes a melee basic attack against itself as a free action. If the target is not wielding a melee weapon, it drops a held item and draws a melee weapon as a free action and then makes the attack.<br/>
            </div>
        </div>

        <div class="ggtype">
            <div class="mbsubleft">
                <strong>Minor Actions</strong>
            </div>
        </div>
        <div class="ggmed">
            <font face="4etools symbols">r</font> <strong>Central Eye</strong> (Fear) <strong>&bull; At-Will</strong> 1/round
        </div>
        <div class="gglt">
            <div class="ggindent">
                Attack: Ranged 10 (one creature); +21 vs. Will<br/>
                Hit: The beholder slides the target 5 squares, and the target gains vulnerable 5 necrotic and vulnerable 5 psychic until the start of the beholder's next turn.<br/>
            </div>
        </div>

        <div class="ggtype">
            <div class="mbsubleft">
                <strong>Triggered Actions</strong>
            </div>
        </div>
        <div class="ggmed">
            <font face="4etools symbols">R</font>
            <strong>Eyes of the Beholder</strong>
            <strong>&bull; At-Will</strong>
        </div>
        <div class="gglt">
            <div class="ggindent">
                Trigger: An enemy starts its turn within 5 squares of the beholder.<br/>
                Effect (Free Action): The beholder uses eye ray against the triggering enemy. Determine which ray it uses by rolling a d4, rerolling the die on a result of 4.<br/>
            </div>
        </div>

        <div class="ggmed">
            <table>
                <tr>
                    <td colspan="3" class="indmed">
                        <strong>Skills</strong> Perception +17
                    </td>
                </tr>
                <tr>
                    <td class="indmed">
                        <strong>Str</strong>&nbsp;<span data-bind="text: AbilityScore('Strength')"></span>
                    </td>
                    <td class="indmed">
                        <strong>Dex</strong>&nbsp;<span data-bind="text: AbilityScore('Dexterity')"></span>
                    </td>
                    <td class="indmed">
                        <strong>Wis</strong>&nbsp;<span data-bind="text: AbilityScore('Wisdom')"></span>
                    </td>
                </tr>
                <tr>
                    <td class="indmed">
                        <strong>Con</strong>&nbsp;<span data-bind="text: AbilityScore('Constitution')"></span>
                    </td>
                    <td class="indmed">
                        <strong>Int</strong>&nbsp;<span data-bind="text: AbilityScore('Intelligence')"></span>
                    </td>
                    <td class="indmed">
                        <strong>Cha</strong>&nbsp;<span data-bind="text: AbilityScore('Charisma')"></span>
                    </td>
                </tr>
            </table>
        </div>
        <div class="gglt">
            <strong>Alignment</strong>&nbsp;<span data-bind="text: Monster().Alignment"></span>&nbsp;<strong>Languages</strong>&nbsp;<span data-bind="    text: combineArray(Monster().Languages)"></span><br/>
            <strong>Source</strong>&nbsp;<a data-bind="attr: { href: Monster().CompendiumUrl }, text: Monster().SourceBook"></a><br/>
        </div>
    </body>
</html>

<script type="text/html" id="test">
    <strong data-bind="visible: Monster().Immunities.length">Immune&nbsp;</strong><span data-bind="    text: combineArray(Monster().Immunities) + ' '"></span>
    <strong data-bind="visible: Monster().Resistances.length">Resist&nbsp;</strong>
    <strong>Vulnerability&nbsp;</strong><br/>
</script>